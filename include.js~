
var socket;
    var firstconnect = true;
    var custID;
    function connect() {
      if(firstconnect) {
        socket = io.connect(null);
        socket.on('getCust', function (ID, cust) {addCustomerData(ID, cust);});
	socket.on('retrieveCustID', function(ID) { 
	  custID = ID;
	  socket.emit("getCustomerData",custID);
	});
	socket.emit('getCustomerID');
        firstconnect = false;
      }
      else {
        socket.socket.reconnect();
      }
    }

    function addCustomerData(ID, cust) {
	$("h1").text(cust.firstName + " " + cust.lastName);
    }
    
    function loadPage(page) {
      switch (page) {
	case 'pp':
	  $("#content").load("purchase_history.html #content");
	  
	  $(document).ready( function() {
	      $("#lst").listview("refresh");
	  });
	  
	  break;
	case 'size':
	  
	  break;
	case 'brand':
	  
	  break;
     }
      
    }